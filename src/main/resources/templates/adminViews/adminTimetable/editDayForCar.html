<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Admin Timetable</title>
<meta charset="utf-8">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<link rel="stylesheet" th:href="@{/css/style.css}" type="text/css" />
</head>
<body>
	<div class="page">
		<nav
			class="navbar navbar-expand-lg navbar-light bg-light d-flex justify-content-end">
			<div class=" flex-fill">
				<a href="/"><img
					src="https://cdn.pixabay.com/photo/2014/04/03/00/41/house-309113_960_720.png"
					width="70px" /></a>
			</div>
			<div class="flex-fill">
				<h2>Ośrodek Szkolenia Kierowców</h2>
			</div>
			<div class="flex-fill">
				<strong>Zalogowany użytkownik: administrator</strong> <a
					href="/logout"><button type="button" class="btn btn-primary">WYLOGUJ</button></a>
				<a th:href="@{/}"><-wroc</a>
			</div>
		</nav>
		<div class="container">
			<br>
			<h3 style="float:left;" th:text="${title}"></h3> <a  th:href="@{/timetable/list}"  style="float:right;" class=" btn btn-outline-secondary">GRAFIK</a>
			<br><br>
			<p
				th:text="'dla samochodu '+ ${car.brand}+' '+${car.model}
			+' '+${car.registrationNumber} + ' na dzień '+ ${#temporals.format(today,'dd.MM.yyyy')}" />

			<br> <b>Obecne dane:</b> 
	
			<div class="table-responsive">
					<table class="table table-bordered table-hover table-sm">
						<thead>
							<tr class="table-primary">
								<td>Id</td>
								<td>Początek</td>
								<td>Koniec</td>
								<td>Instruktor</td>
							</tr>
						</thead>
						<tbody id="myTable">
						<tr>
						<tr th:each="timetable:${timetablesToday}">
									<td th:text="${timetable.id}" />
									<td th:text="${#temporals.format(timetable.begin,'HH:mm')}" />
									<td th:text="${#temporals.format(timetable.end,'HH:mm')}" />
									<td	th:text="${timetable.instructor.name}+' ' +${timetable.instructor.surname} " />
						
							</tr>
						</tbody>
					</table>
				</div>
			
			
			<form th:action="@{/timetable/saveNewTimetable}" th:object="${timetable}"
				method="GET" >
			
				<input type="hidden" th:field="*{id}" /> 
				
				<select	th:field="*{car}" class="form-control col-sm-4 col-md-4">	
					<option th:each="car: *{car}"
						th:value="${car.id}"
						th:text="${car.brand}+' '+${car.model}+' '+${car.registrationNumber}" />
				</select> 
				<br>
				<input type="hidden" th:field="*{driving}" /> 
				
			<input type="hidden" th:field="*{begin}" /> 
			<input type="hidden" th:field="*{end}" /> 
				
				
					Instruktor: <select
					th:field="*{instructor}" class="form-control col-sm-4 col-md-4">
						
					<option th:each="instructor: ${instructors}"
						th:value="${instructor.id}"
						th:text="${instructor.name}+' '+${instructor.surname} "/>
				</select> 
				<br>
				
				<div th:object=${hour}>
				<select th:name="hour" class="form-control col-4">
					<option th:value="6">6:00-8:00</option>
					<option th:value="8">8:00-10:00</option>
					<option th:value="10">10:00-12:00</option>
				</select>
				
				</div>
				
				
				<button type="submit"  class="btn btn-info col-2">ZMIEŃ</button>
			
			</form>
			<br>

		</div>
	</div>
</body>
</HTML>